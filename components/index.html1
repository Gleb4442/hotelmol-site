<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>SoftBlue Forecast - Start</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Spline+Sans:wght@300;400;500;600;700;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#1f80db", // Ocean blue from theme
                        "primary-soft": "#E1F0FF", // Soft input background
                        "background-light": "#F5F9FC", // Cool white
                        "background-dark": "#111921",
                        "text-main": "#2D3E50",
                        "text-soft": "#7D92A8",
                        "accent": "#88C0D0",
                    },
                    fontFamily: {
                        "display": ["Spline Sans", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "1rem", 
                        "lg": "1.5rem", 
                        "xl": "2rem", 
                        "2xl": "2.5rem",
                        "full": "9999px"
                    },
                    boxShadow: {
                        "soft": "0 20px 40px -12px rgba(31, 128, 219, 0.12)",
                        "glow": "0 0 20px rgba(31, 128, 219, 0.25)",
                    }
                },
            },
        }
    </script>
<style>
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 40px;
            width: 40px;
            border-radius: 50%;
            background: #ffffff;
            cursor: pointer;
            margin-top: -16px; 
            box-shadow: 0 4px 12px rgba(31, 128, 219, 0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: 2px solid #1f80db;
        }
        input[type=range]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(31, 128, 219, 0.4);
        }
        input[type=range]::-moz-range-thumb {
            height: 40px;
            width: 40px;
            border-radius: 50%;
            background: #ffffff;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(31, 128, 219, 0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: 2px solid #1f80db;
        }
        input[type=range]::-moz-range-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(31, 128, 219, 0.4);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 8px;
            cursor: pointer;
            background: transparent;
        }
        input[type=range]::-moz-range-track {
            width: 100%;
            height: 8px;
            cursor: pointer;
            background: transparent;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-main antialiased selection:bg-primary/20 selection:text-primary">
<div class="relative min-h-screen flex flex-col w-full overflow-x-hidden">
    <!-- Background Blobs -->
    <div class="fixed top-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-primary/10 rounded-full blur-[120px] pointer-events-none -z-10"></div>
    <div class="fixed bottom-[-10%] right-[-10%] w-[40vw] h-[40vw] bg-accent/20 rounded-full blur-[100px] pointer-events-none -z-10"></div>
    
    <main class="flex-grow flex flex-col items-center justify-center p-4 sm:p-6 min-h-screen">
        <div class="w-full max-w-2xl">
            
            <!-- Main Card -->
            <section class="relative w-full overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-white via-white to-primary-soft/50 shadow-soft p-8 sm:p-14 lg:p-16 text-center border border-white/50">
                <!-- Dot Pattern Background -->
                <div class="absolute inset-0 opacity-[0.03] bg-[radial-gradient(#1f80db_1.5px,transparent_1.5px)] [background-size:24px_24px]"></div>
                
                <div class="relative z-10 flex flex-col items-center">
                    
                    <!-- Main Heading -->
                    <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 dark:text-white mb-8 tracking-tight">Сколько номеров в вашем отеле?</h1>
                    
                    <!-- Dynamic Number (Editable Input) -->
                    <div class="flex items-center justify-center min-h-[140px] mb-12">
                        <input type="number" id="room-input" value="25" min="5" max="500" 
                               class="w-full max-w-[350px] text-center bg-transparent border-none outline-none text-[6rem] sm:text-[10rem] text-slate-900 dark:text-white tracking-tighter tabular-nums transition-all duration-300 focus:ring-0 p-0 m-0 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none" 
                               style="font-family: 'Space Grotesk', sans-serif; font-weight: 700;"
                               oninput="updateFromInput(this.value)" 
                               onblur="validateInput(this.value)" />
                    </div>

                    <!-- Custom Slider -->
                    <div class="w-full max-w-md mx-auto mb-14">
                        <div class="relative w-full h-12 flex items-center px-2">
                            <input id="room-slider" class="w-full appearance-none bg-transparent z-20 focus:outline-none" max="100" min="0" step="0.1" type="range" value="10.5" oninput="updateFromSlider(this.value)"/>
                            <!-- Background Track -->
                            <div class="absolute left-0 right-0 h-3 bg-slate-100 dark:bg-slate-700 rounded-full mx-2 -z-10 overflow-hidden shadow-inner">
                                <!-- Fill Track -->
                                <div id="room-progress" class="h-full w-[10%] bg-gradient-to-r from-primary to-accent rounded-full transition-all duration-75"></div>
                            </div>
                        </div>
                        <!-- Min/Max Labels -->
                        <div class="flex justify-between px-3 mt-4 text-sm font-bold text-text-soft/60 uppercase tracking-wider">
                            <span>5</span>
                            <span>500+</span>
                        </div>
                    </div>

                    <!-- Calculate Button -->
                    <button class="w-full sm:w-auto flex items-center justify-center gap-3 px-10 py-4 sm:px-12 sm:py-5 rounded-full bg-primary text-white hover:bg-[#1a73c7] hover:shadow-glow hover:-translate-y-1 text-lg sm:text-xl font-bold transition-all duration-300 active:scale-95 cursor-pointer">
                        Рассчитать
                        <span class="material-symbols-outlined text-[24px] sm:text-[28px]">arrow_forward</span>
                    </button>

                </div>
            </section>
        </div>
    </main>
</div>

<script>
    // Математика для конвертации количества номеров в проценты на ползунке (нелинейная шкала)
    function valToPercent(v) {
        if (v <= 100) {
            // От 5 до 100 занимает 50% длины
            return ((v - 5) / 95) * 50;
        } else if (v <= 200) {
            // От 100 до 200 занимает 1/3 от оставшихся 50% (то есть ~16.66%)
            return 50 + ((v - 100) / 100) * (50 / 3);
        } else {
            // От 200 до 500 занимает остаток (то есть ~33.33%)
            return (50 + 50 / 3) + ((v - 200) / 300) * (100 / 3);
        }
    }

    // Обратная конвертация: из процентов на ползунке в количество номеров
    function percentToVal(p) {
        if (p <= 50) {
            return 5 + (p / 50) * 95;
        } else if (p <= 50 + (50 / 3)) {
            return 100 + ((p - 50) / (50 / 3)) * 100;
        } else {
            return 200 + ((p - (50 + 50 / 3)) / (100 / 3)) * 300;
        }
    }

    // Вызывается, когда пользователь тянет ползунок
    function updateFromSlider(percent) {
        let num = Math.round(percentToVal(parseFloat(percent)));
        document.getElementById('room-input').value = num;
        document.getElementById('room-progress').style.width = percent + '%';
    }

    // Вызывается, когда пользователь вводит цифры вручную
    function updateFromInput(val) {
        let num = parseInt(val);
        if (!isNaN(num)) {
            // Ограничиваем только для визуального прогресса, чтобы ползунок не уезжал
            let clampedNum = Math.max(5, Math.min(500, num));
            let percent = valToPercent(clampedNum);
            
            document.getElementById('room-slider').value = percent;
            document.getElementById('room-progress').style.width = percent + '%';
        }
    }

    // Проверяет и корректирует ввод, если пользователь кликнул мимо инпута
    function validateInput(val) {
        let num = parseInt(val);
        const min = 5;
        const max = 500;
        
        if (isNaN(num) || num < min) {
            num = min;
        } else if (num > max) {
            num = max;
        }
        
        document.getElementById('room-input').value = num;
        updateFromInput(num);
    }

    // Инициализация при загрузке страницы
    window.onload = function() {
        const inputVal = document.getElementById('room-input').value;
        updateFromInput(inputVal);
    }
</script>

</body></html>